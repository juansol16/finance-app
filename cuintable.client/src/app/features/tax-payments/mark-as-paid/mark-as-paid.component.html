<div class="modal modal-open">
    <div class="modal-overlay" (click)="onCancel()"></div>
    <div class="modal-content w-full max-w-md p-6">
        <h3 class="text-lg font-semibold text-white mb-2">{{ 'TAX_PAYMENT.CONFIRM_PAYMENT' | translate }}</h3>
        <p class="text-sm text-slate-400 mb-5">
            {{ 'TAX_PAYMENT.CONFIRM_PAYMENT_TEXT' | translate }}
            <strong class="text-amber-400">{{ payment?.amountDue | currency:'MXN' }}</strong>
            {{ 'TAX_PAYMENT.FOR_PERIOD' | translate }} {{ payment?.periodYear }}-{{ payment?.periodMonth }}
        </p>

        <div class="space-y-4">
            <div>
                <label class="text-xs font-medium text-slate-400 mb-1.5 block">{{ 'TAX_PAYMENT.PAYMENT_DATE' | translate }}</label>
                <input type="date" [(ngModel)]="paymentDate" class="input input-bordered w-full" />
            </div>

            <div>
                <label class="text-xs font-medium text-slate-400 mb-1.5 block">{{ 'TAX_PAYMENT.RECEIPT_HINT' | translate }}</label>
                <input type="file" (change)="onFileSelected($event)" class="file-input file-input-bordered w-full" accept=".pdf" />
            </div>
        </div>

        <div class="flex gap-3 pt-4">
            <button class="btn btn-ghost flex-1" (click)="onCancel()" [disabled]="loading">{{ 'COMMON.CANCEL' | translate }}</button>
            <button class="btn btn-success flex-1" (click)="onSubmit()" [disabled]="loading || !paymentDate">
                <div *ngIf="loading" class="w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin mr-2"></div>
                {{ 'TAX_PAYMENT.CONFIRM_PAYMENT' | translate }}
            </button>
        </div>
    </div>
</div>
